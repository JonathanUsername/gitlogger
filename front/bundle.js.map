{"version":3,"sources":["src/main.js"],"names":[],"mappings":";;AAAA,IAAM,SAAS,IAAT;;AAEN,IAAI,cAAc,EAAd;;AAEJ,OAAO,EAAP,CAAU,YAAV,EAAwB,UAAS,MAAT,EAAgB;AACtC,UAAQ,GAAR,CAAY,WAAZ,EAAyB,MAAzB,EADsC;CAAhB,CAAxB;;AAIA,OAAO,EAAP,CAAU,OAAV,EAAmB,iBAAS;AAC1B,cAAY,GAAZ,GAD0B;AAE1B,cAAY,OAAZ,CAAoB,MAAM,OAAN,CAApB,CAF0B;AAG1B,eAH0B;CAAT,CAAnB;;AAMA,OAAO,EAAP,CAAU,QAAV,EAAoB,kBAAU;AAC5B,gBAAc,YAAY,MAAZ,CAAmB,MAAnB,CAAd,CAD4B;AAE5B,SAAO,OAAP,CAAe,iBAAS;AACtB,iBADsB;GAAT,CAAf,CAF4B;CAAV,CAApB;;AAOA,SAAS,UAAT,CAAqB,KAArB,EAA4B;AAC1B,MAAM,YAAY,EAAE,gBAAF,CAAZ,CADoB;AAE1B,cAAY,OAAZ,CAAoB,UAApB,EAF0B;;AAI1B,WAAS,UAAT,CAAqB,KAArB,EAA4B;AAC1B,cAAU,MAAV,uBACsB,MAAM,IAAN,wGACoE,MAAM,IAAN,+GACE,MAAM,IAAN,qHACM,MAAM,MAAN,0BAC5F,MAAM,GAAN,GAAY,MAAM,GAAN,GAAY,MAAM,IAAN,oBAL9B,EAD0B;GAA5B;CAJF","file":"bundle.js","sourcesContent":["const socket = io();\n\nlet shownEvents = [];\n\nsocket.on('connection', function(socket){\n  console.log('connected', socket)\n});\n\nsocket.on('event', event => {\n  shownEvents.pop();\n  shownEvents.unshift(event.new_val);\n  drawEvents();\n});\n\nsocket.on('events', events => {\n  shownEvents = shownEvents.concat(events);\n  events.forEach(event => {\n    drawEvents();\n  })\n});\n\nfunction drawEvents (event) {\n  const container = $('.latest-events');\n  shownEvents.forEach(appendLine);\n  \n  function appendLine (event) {\n    container.append( \n      `<div class=\"line ${event.type}\">\n        <span class=\"repo line-element\"><span class=\"icon mega-octicon octicon-repo\"></span>${event.repo}</span>\n        <span class=\"user line-element\"><span class=\"icon mega-octicon octicon-person\"></span>${event.user}</span>\n        <span class=\"branch line-element\"><span class=\"icon mega-octicon octicon-git-branch\"></span>${event.branch}</span>\n        ${event.msg ? event.msg : event.type}\n      </div>`\n    );\n  }\n}\n"]}